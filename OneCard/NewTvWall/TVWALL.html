<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" href="bootstrap/css/bootstrap.min.css">
    <script src="plugins/chartjs/Chart.min.js"></script>
    <script type="text/javascript" src="http://code.jquery.com/jquery-1.6.4.min.js"></script>
    <link href="css/css.css" rel="stylesheet" type="text/css" />
    <script type="text/javascript" src="js/lrtk.js"></script>
    <link rel="stylesheet" type="text/css" href="css/default.css" />
	<link rel="stylesheet" type="text/css" href="css/multilevelmenu.css" />
	<link rel="stylesheet" type="text/css" href="css/component.css" />
	<link rel="stylesheet" type="text/css" href="css/animations.css" />
	<script src="js/modernizr.custom.js"></script>
	<link rel="stylesheet" href="http://dreamsky.github.io/main/blog/common/init.css">
	<script src="http://dreamsky.github.io/main/blog/common/jquery.min.js"></script>
    <link href="css/style.css" rel="stylesheet" type="text/css" />
    <link href="css/grid-accordion.css" rel="stylesheet" type="text/css" />
    <script type="text/javascript" src="js/jquery-1.7.1.min.js"></script>
    <script type="text/javascript" src="js/jquery.gridAccordion.min.js"></script>
    <script type="text/javascript">
	jQuery(document).ready(function($){
        $('.accordion').gridAccordion({width:600, 
                                       height:420, 
                                       columns:5, 
                                       distance:2, 
                                       closedPanelWidth:10, 
                                       closedPanelHeight:10, 
                                       alignType:'centerCenter',
                                       slideshow:true,
                                       panelProperties:{
                                            0:{captionWidth:200, captionHeight:35, captionTop:30, captionLeft:30},
                                            4:{captionWidth:150, captionHeight:100, captionTop:30, captionLeft:650},
                                            7:{captionWidth:310, captionHeight:35, captionTop:350, captionLeft:40},
                                            8:{captionWidth:300, captionHeight:40, captionTop:150, captionLeft:35},
                                            11:{captionWidth:150, captionHeight:120, captionTop:300, captionLeft:30},
                                            14:{captionWidth:300, captionHeight:40, captionTop:30, captionLeft:50},
                                            16:{captionWidth:150, captionHeight:120, captionTop:150, captionLeft:10},
                                            18:{captionWidth:300, captionHeight:40, captionTop:130, captionLeft:50}
                                        }});
    });
</script>
    <title>苏州市民卡 数据分析中心</title>
    <style>
        .aaa {
            font-family: PingFangSC-Light;
            font-size: 26px;
            color: #FFFFFF;
            letter-spacing: 0.75px;
            margin-top: 10px;
        }

        .bbb {
            font-family: PingFangSC-Regular;
            font-size: 16px;
            color: #D5D5D6;
            letter-spacing: 0.5px;
            line-height: 20px;
        }

        canvas {
            -moz-user-select: none;
            -webkit-user-select: none;
            -ms-user-select: none;
        }

        body {
            background: url('./dist/img/TV_1_bg.png')no-repeat;
            background-size: 100%;
        }
         .dibu {
            position:absolute;bottom:0px;
        }
         .div-inline{ float: left} 
        .bg1 {
            background: url('./dist/img/TV_1_bg.png')no-repeat;
            background-size: 100%;
        }
        .szlogo {
            height:100px;
            background: url('./dist/img/szsmklogo1.png')no-repeat;
            background-size: 100%;
        }

        .bg2 {
            background: url('./dist/img/TV_2_bg.png')no-repeat;
            background-size: 100%;
        }
        .bg3 {
            background: url('./dist/img/dept1.png')no-repeat;
            background-size: 100%;
            position:absolute; 
            left:20px; 
            top:30px; 
            width:370px; 
        }
        .bg4 {
            background: url('./dist/img/dept2.png')no-repeat;
            background-size: 100%;
             position:absolute; 
            left:20px; 
            top:30px; 
            width:402px; 
        }
        .divcon{
        height:384px;
        }
        .circle1 {
        width: 16px;
        height: 16px;
        background-color: #FFFFFF; 
        border: 6px #ED9D7A solid;
        -webkit-border-radius: 11px;
        }
         .circle2 {
        width: 16px;
        height: 16px;
        background-color: #FFFFFF; 
        border: 6px #EC553C solid;
        -webkit-border-radius: 11px;
        }
         .box{ 
        width:150px; 
        height:25px; 
        line-height:25px; 
        border:#bbb 1px solid; 
        overflow:hidden; 
        } 
        .box ul{margin:0; padding:0} 
        .box li{ 
        height:20px; 
        line-height:20px; 
        font-size:12px; 
        text-align:center; 
        list-style-type:none; 
        } 
         .biaoti1,.biaoti2{ display:inline}
         .copyright {
          position: absolute;
          bottom: 0;
        }
        .copyright a {
          text-decoration: none;
          color: #16a085;
        }
        .copyright a:hover {
          text-decoration: underline;
        }

        .button {
          position: relative;
          padding: 4.5em 4em;
          border: none;
          background-color: transparent;
          cursor: pointer;
          outline: none;
          font-size: 10px;
          margin: -2em -1.5em;
        }
        .button.type1 {
          color: #566473;
        }
        .button.type1.type1::after, .button.type1.type1::before {
          content: "";
          display: block;
          position: absolute;
          width: 20%;
          height: 20%;
          border: 2px solid;
          transition: all 0.6s ease;
          border-radius: 2px;
        }
        .button.type1.type1::after {
          bottom: 0;
          right: 0;
          border-top-color: transparent;
          border-left-color: transparent;
          border-bottom-color: #566473;
          border-right-color: #566473;
        }
        .button.type1.type1::before {
          top: 0;
          left: 0;
          border-bottom-color: transparent;
          border-right-color: transparent;
          border-top-color: #566473;
          border-left-color: #566473;
        }
        .button.type1.type1:hover:after, .button.type1.type1:hover:before {
          width: 100%;
          height: 100%;
        }
        .button.type2 {
          color: #474747;
        }
        .button.type2.type2:after, .button.type2.type2:before {
          content: "";
          display: block;
          position: absolute;
          top: 100%;
          left: 0;
          width: 100%;
          height: 1px;
          background-color: #fff;
          transition: all 0.3s ease;
          transform: scale(0.85);
        }
        .button.type2.type2:hover:before {
          top: 0;
          transform: scale(1);
        }
        .button.type2.type2:hover:after {
          transform: scale(1);
        }
        .button.type3 {
          color: #435a6b;
        }
        .button.type3.type3::after, .button.type3.type3::before {
          content: "";
          display: block;
          position: absolute;
          width: 20%;
          height: 20%;
          border: 2px solid;
          transition: all 0.6s ease;
          border-radius: 2px;
        }
        .button.type3.type3::after {
          bottom: 0;
          right: 0;
          border-top-color: transparent;
          border-left-color: transparent;
          border-bottom-color: #435a6b;
          border-right-color: #435a6b;
        }
        .button.type3.type3::before {
          top: 0;
          left: 0;
          border-bottom-color: transparent;
          border-right-color: transparent;
          border-top-color: #435a6b;
          border-left-color: #435a6b;
        }
        .button.type3.type3:hover:after, .button.type3.type3:hover:before {
          border-bottom-color: #435a6b;
          border-right-color: #435a6b;
          border-top-color: #435a6b;
          border-left-color: #435a6b;
          width: 100%;
          height: 100%;
        }
        .lbl {
          position: relative;
          display: block;
          height: 22px;
          width: 40px;
          background: #000;
          border-radius: 100px;
          cursor: pointer;
          border: 2px solid #404040;
          transition: all 0.2s ease;
        }
        .lbl:after {
          position: absolute;
          left: -2px;
          top: -2px;
          display: block;
          width: 22px;
          height: 22px;
          border-radius: 100px;
          background: #a0a0a0;
          box-shadow: 0 1px 2px rgba(0,0,0,0.4);
          content: '';
          transition: all 0.3s ease;
        }
        .lbl:active:after {
          width: 26px;
          background: #fff;
        }
        .cbx:checked ~ label {
          background: #1db955;
          border-color: #1db955;
        }
        .cbx:checked ~ label:after {
          transform: translateX(18px);
          background: #fff;
        }
        .cbx:checked ~ label:active:after {
          transform: translateX(14px);
        }
        .cntr {
          position: absolute;
          top: 50%;
          left: 50%;
          transform: translate(-50%, -50%);
        }
        .hidden {
          display: none;
        }

    </style>
</head>
<body>
    <!--<div class="pt-triggers">
        <button id="iterateEffects" class="pt-touch-button">显示下一页切换</button>
        <div id="dl-menu" class="dl-menuwrapper">
            <button class="dl-trigger">选择切换效果</button>
            <ul class="dl-menu">
                <li>
                    <a href="#">Move</a>
                    <ul class="dl-submenu">
                        <li data-animation="1"><a href="#">右-》左</a></li>
                        <li data-animation="2"><a href="#">Move to right/ from left</a></li>
                        <li data-animation="3"><a href="#">Move to top/ from bottom</a></li>
                        <li data-animation="4"><a href="#">Move to bottom/ from top</a></li>
                    </ul>
                </li>
                <li>
                    <a href="#">Fade</a>
                    <ul class="dl-submenu">
                        <li data-animation="5"><a href="#">Fade / from right</a></li>
                        <li data-animation="6"><a href="#">Fade / from left</a></li>
                        <li data-animation="7"><a href="#">Fade / from bottom</a></li>
                        <li data-animation="8"><a href="#">Fade / from top</a></li>
                        <li data-animation="9"><a href="#">Fade left / Fade right</a></li>
                        <li data-animation="10"><a href="#">Fade right / Fade left</a></li>
                        <li data-animation="11"><a href="#">Fade top / Fade bottom</a></li>
                        <li data-animation="12"><a href="#">Fade bottom / Fade top</a></li>
                    </ul>
                </li>
                <li>
                    <a href="#">Different easing</a>
                    <ul class="dl-submenu">
                        <li data-animation="13"><a href="#">Different easing / from right</a></li>
                        <li data-animation="14"><a href="#">Different easing / from left</a></li>
                        <li data-animation="15"><a href="#">Different easing / from bottom</a></li>
                        <li data-animation="16"><a href="#">Different easing / from top</a></li>
                    </ul>
                </li>
                <li>
                    <a href="#">Scale</a>
                    <ul class="dl-submenu">
                        <li data-animation="17"><a href="#">Scale down / from right</a></li>
                        <li data-animation="18"><a href="#">Scale down / from left</a></li>
                        <li data-animation="19"><a href="#">Scale down / from bottom</a></li>
                        <li data-animation="20"><a href="#">Scale down / from top</a></li>
                        <li data-animation="21"><a href="#">Scale down / scale down</a></li>
                        <li data-animation="22"><a href="#">Scale up / scale up</a></li>
                        <li data-animation="23"><a href="#">Move to left / scale up</a></li>
                        <li data-animation="24"><a href="#">Move to right / scale up</a></li>
                        <li data-animation="25"><a href="#">Move to top / scale up</a></li>
                        <li data-animation="26"><a href="#">Move to bottom / scale up</a></li>
                        <li data-animation="27"><a href="#">Scale down / scale up</a></li>
                    </ul>
                </li>
                <li>
                    <a href="#">Rotate</a>
                    <ul class="dl-submenu">
                        <li>
                            <a href="#">Glue</a>
                            <ul class="dl-submenu">
                                <li data-animation="28"><a href="#">Glue left / from right</a></li>
                                <li data-animation="29"><a href="#">Glue right / from left</a></li>
                                <li data-animation="30"><a href="#">Glue bottom / from top</a></li>
                                <li data-animation="31"><a href="#">Glue top / from bottom</a></li>
                            </ul>
                        </li>
                        <li>
                            <a href="#">Flip</a>
                            <ul class="dl-submenu">
                                <li data-animation="32"><a href="#">Flip right</a></li>
                                <li data-animation="33"><a href="#">Flip left</a></li>
                                <li data-animation="34"><a href="#">Flip top</a></li>
                                <li data-animation="35"><a href="#">Flip bottom</a></li>
                            </ul>
                        </li>
                        <li data-animation="36"><a href="#">Fall</a></li>
                        <li data-animation="37"><a href="#">Newspaper</a></li>
                        <li>
                            <a href="#">Push / Pull</a>
                            <ul class="dl-submenu">
                                <li data-animation="38"><a href="#">Push left / from right</a></li>
                                <li data-animation="39"><a href="#">Push right / from left</a></li>
                                <li data-animation="40"><a href="#">Push top / from bottom</a></li>
                                <li data-animation="41"><a href="#">Push bottom / from top</a></li>
                                <li data-animation="42"><a href="#">Push left / pull right</a></li>
                                <li data-animation="43"><a href="#">Push right / pull left</a></li>
                                <li data-animation="44"><a href="#">Push top / pull bottom</a></li>
                                <li data-animation="45"><a href="#">Push bottom / pull top</a></li>
                            </ul>
                        </li>
                        <li>
                            <a href="#">Fold / Unfold</a>
                            <ul class="dl-submenu">
                                <li data-animation="46"><a href="#">Fold left / from right</a></li>
                                <li data-animation="47"><a href="#">Fold right / from left</a></li>
                                <li data-animation="48"><a href="#">Fold top / from bottom</a></li>
                                <li data-animation="49"><a href="#">Fold bottom / from top</a></li>
                                <li data-animation="50"><a href="#">Move to right / unfold left</a></li>
                                <li data-animation="51"><a href="#">Move to left / unfold right</a></li>
                                <li data-animation="52"><a href="#">Move to bottom / unfold top</a></li>
                                <li data-animation="53"><a href="#">Move to top / unfold bottom</a></li>
                            </ul>
                        </li>
                        <li>
                            <a href="#">Room</a>
                            <ul class="dl-submenu">
                                <li data-animation="54"><a href="#">Room to left</a></li>
                                <li data-animation="55"><a href="#">Room to right</a></li>
                                <li data-animation="56"><a href="#">Room to top</a></li>
                                <li data-animation="57"><a href="#">Room to bottom</a></li>
                            </ul>
                        </li>
                        <li>
                            <a href="#">Cube</a>
                            <ul class="dl-submenu">
                                <li data-animation="58"><a href="#">Cube to left</a></li>
                                <li data-animation="59"><a href="#">Cube to right</a></li>
                                <li data-animation="60"><a href="#">Cube to top</a></li>
                                <li data-animation="61"><a href="#">Cube to bottom</a></li>
                            </ul>
                        </li>
                        <li>
                            <a href="#">Carousel</a>
                            <ul class="dl-submenu">
                                <li data-animation="62"><a href="#">Carousel to left</a></li>
                                <li data-animation="63"><a href="#">Carousel to right</a></li>
                                <li data-animation="64"><a href="#">Carousel to top</a></li>
                                <li data-animation="65"><a href="#">Carousel to bottom</a></li>
                            </ul>
                        </li>
                        <li data-animation="66"><a href="#">Sides</a></li>
                    </ul>
                </li>
                <li data-animation="67"><a href="#">Slide</a></li>
            </ul>
            <div class="footer-banner" style="position:absolute;bottom:-350px;left:-200px;width:728px; margin:30px auto"></div>
        </div>
    </div>-->
    <!--<div class="pt-triggers">
        <div class="cntr">
            <input type="checkbox" id="cbx" class="cbx hidden" />
            <label for="cbx" class="lbl"></label>
        </div>
    </div>-->
    <div id="pt-main" class="pt-perspective">
        <div class="pt-page pt-page-1">
                <div class="row" style="color:white; background-color:black;">
                    <div class="col-md-6 bg1 divcon" style="">
                        <div class="col-md-12" style="margin-top: 35px; display: inline">
                            <div class="col-md-2 szlogo"><button id="iterateEffects" class="button type2"></button></div>
                            <div class="col-md-10" style="margin-top: 20px">
                                <p class="biaoti1" style="font-size: 38px; color: #FFFFFF; letter-spacing: 0.92px;"><b>苏州市民卡</b>
                                </p>
                                <p class="biaoti2" style="font-size: 28px; color: #FFFFFF; letter-spacing: 0;">&nbsp;&nbsp;数据分析中心</p>
                            </div>
                        </div>
                        <div class="col-md-12 aaa" style="margin-top: 0px;">最近7日刷卡数据</div>
                        <div class="col-md-4">
                            <div class="col-md-12" style="margin-top: 5px;">
                                <hr class="col-md-10" style="border: 0px; background-color: #474747; height: 1px;" />
                                <span class="bbb">公交刷卡在市民卡刷卡人次占比最高，随着轨交线网的不断完善，轨道交通出现则会稳步上升。</span>
                                <hr class="col-md-10" style="border: 0px; background-color: #474747; height: 1px;" />
                            </div>
                        </div>
                        <div class="col-md-8" style="height: 200px">
                            <div class="dibu">
                                <canvas id="tradeHistory"></canvas>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6 bg2 divcon">
                        <div class="col-md-12 aaa" style="margin-top:100px;">实时网点人气</div>
                        <div class="col-md-4">
                            <div class="col-md-12" style="margin-top: 20px;">
                                <hr class="col-md-10" style="border: 0px; background-color: #474747; height: 1px;" />
                                <span class="bbb">实时显示当日苏州市民卡各对外服务网点累计人流量分布</span>
                                <hr class="col-md-10" style="border: 0px; background-color: #474747; height: 1px;" />
                            </div>
                        </div>
                        <div class="col-md-8" style="height: 250px">
                            <div class="dibu">
                                <canvas id="hotDepart"></canvas>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row" style="color:white;">
                    <div id="tv3" class="col-md-6 divcon" style="background-color:black;">
                        <div class="col-md-4" style="height:540px">
                            <div class="col-md-12 aaa" style="margin-top:5px;">实时发卡量</div>
                            <div class="col-md-12" style="margin-top:20px;">
                                <hr class="col-md-10" style="border:0px;background-color: #474747;height:1px;" />
                                <span class="bbb">实时显示苏州市民卡最近15分钟内发卡量数据变化</span>
                                <hr class="col-md-10" style="border:0px;background-color: #474747;height:1px;" />
                            </div>
                        </div>
                        <div class="col-md-8" style="height:540px;">
                            <canvas id="cardSaleRealTime" style="float:none;margin-top:50px;"></canvas>
                        </div>
                    </div>
                    <div id="tv4" class="col-md-6 divcon" style="background-color: black; height: 384px;">
                        <div class="col-md-12 aaa" style="margin-top:5px;">营业网点</div>
                        <div class="col-md-3" style="height: 540px">
                            <div class="col-md-12" style="margin-top: 20px;">
                                <hr class="col-md-10" style="border: 0px; background-color: #474747; height: 1px;" />
                                <div id="ziying">
                                    &nbsp;&nbsp;
                                    <div class="div-inline"><div class="circle1"></div></div>
                                    <div class="div-inline">&nbsp;&nbsp;自营网点</div>
                                </div>
                                <div id="daili">
                                    <div class="div-inline">
                                        <div class="circle2"></div>
                                    </div>
                                    <div class="div-inline">&nbsp;&nbsp;代理网点</div>
                                </div>
                                <hr class="col-md-10" style="border: 0px; background-color: #474747; height: 1px;" />
                                <div class="box" id="mydiv" style="height: 200px; width: 110px; background-color: black;">
                                    <ul>
                                        <li>东润客服网点</li>
                                        <li>星海客服网点</li>
                                        <li>园区发卡中心</li>
                                        <li>竹辉客服网点</li>
                                        <li>莫邪客服网点</li>
                                        <li>吴中客服网点</li>
                                        <li>相城客服网点</li>
                                        <li>新区乐园客服网点</li>
                                        <li>研究生城客服中心</li>
                                        <li>三香行政中心服务站</li>
                                        <li>木渎服务站</li>
                                        <li>桐泾服务站</li>
                                        <li>火车站服务站</li>
                                        <li>邻里E家服务站</li>
                                        <li>东北街服务站</li>
                                        <li>新城邻里中心</li>
                                        <li>玲珑邻里中心</li>
                                        <li>湖东邻里中心</li>
                                        <li>东沙湖邻里中心</li>
                                        <li>唯盛邻里中心</li>
                                        <li>景城邻里中心</li>
                                        <li>吴中民生综合服务中心</li>
                                        <li>硕本代理网点</li>
                                        <li>泉屋百货服务站</li>
                                        <li>什物谷代理网点</li>
                                        <li>月明代理网点</li>
                                        <li>秀云恒代理网点</li>
                                    </ul>
                                </div>
                            </div>

                        </div>
                        <div class="col-md-9">
                            <div class="bg3" id="pic1" style="height: 540px; ">
                            </div>
                            <div class="bg4" id="pic2" style="height: 540px;display: none;">
                            </div>
                        </div>
                    </div>
                </div>
        </div>
        <div class="pt-page pt-page-2">
                <div class="row" style="color:white; background-color:black;">
                    <div class="col-md-6 bg1 divcon">
                        <div class="col-md-12" style="margin-top: 15px;display: inline">
                            <div class="col-md-2 szlogo"><button id="iterateEffects1" class="button type2"></button></div>
                            <div class="col-md-10" style="margin-top:20px">
                                <p class="biaoti1" style="font-size: 38px;color: #FFFFFF;letter-spacing: 0.92px;"><b>苏州市民卡</b></p>
                                <p class="biaoti2" style="font-size: 28px;color: #FFFFFF;letter-spacing: 0;">&nbsp;&nbsp;数据分析中心</p>
                            </div>
                        </div>
                        <div class="col-md-1"  style="margin-top: 10px;"><img src="dist\img\ico_holiday@2x.png" width="130%" /></div>
                        <div class="col-md-11 aaa" style="margin-top: 10px;">昨日休闲人气</div>
                        <div class="col-md-12">
                            <div class="col-md-4" style="">
                                <div class="col-md-12" style="margin-top: 10px;">
                                    <hr class="col-md-10" style="border: 0px; background-color: #474747; height: 1px;" />
                                    <span class="bbb">来源：苏州市民卡后台监测系统 监测显示：昨日苏州各大休闲景点人气以苏州乐园、穹隆山、白马涧、同里等相对较高。</span>
                                    <hr class="col-md-10" style="border: 0px; background-color: #474747; height: 1px;" />
                                </div>
                            </div>
                            <div class="col-md-8" style="height:200px">
                                <canvas id="relaxview"></canvas>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6 bg2 divcon" style="">
                        <div class="col-md-1" style="margin-top: 97px;"><img src="dist\img\ico_park@2x.png" width="140%" /></div>
                        <div class="col-md-11 aaa" style="margin-top: 90px;">昨日园林人气</div>
                        <div class="col-md-12">
                            <div class="col-md-4" style="">
                                <div class="col-md-12" style="margin-top: 20px;">
                                    <hr class="col-md-10" style="border: 0px; background-color: #474747; height: 1px;" />
                                    <span class="bbb">来源：苏州市民卡后台监测系统 监测显示：昨日苏州各大园林景点人气以拙政园、虎丘、动物园等相对较高。</span>
                                    <hr class="col-md-10" style="border: 0px; background-color: #474747; height: 1px;" />
                                </div>
                            </div>
                            <div class="col-md-8" style="height: 250px">
                                <div class="dibu">
                                    <canvas id="gardenview"></canvas>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row" style="color:white;">
                    <div id="tv3" class="col-md-6 divcon" style="background-color: black;">
                        <div class="col-md-1" style="margin-top: 10px;"><img src="dist\img\ico_subway@2x.png" width="110%" /></div>
                        <div class="col-md-11 aaa" style="margin-top: 5px;">昨日地铁人气</div>
                        <div class="col-md-12">
                        <div class="col-md-12">
                            <div class="col-md-4" style="height: 540px">
                                <div class="col-md-12" style="margin-top: 20px;">
                                    <hr class="col-md-10" style="border: 0px; background-color: #474747; height: 1px;"/>
                                    <span class="bbb">来源：苏州市民卡后台监测系统 监测显示：昨日苏州各地铁线路综合人气以火车站、观前商圈站点、湖东湖西商圈站点相对较高。</span>
                                    <hr class="col-md-10" style="border: 0px; background-color: #474747; height: 1px;"/>
                                </div>
                            </div>
                            <div class="col-md-8" style="height: 500px;">
                                <canvas id="subwayview" style="float: none; margin-top: 50px;"></canvas>
                            </div>
                        </div>
                        </div> 
                    </div>
                    <div id="tv4" class="col-md-6 divcon" style="background-color:black;">
                        <div class="col-md-4" style="height:540px">
                            <div class="col-md-12 aaa" style="margin-top:5px;">景点预览</div>
                            <div class="col-md-12" style="margin-top:10px;">
                                <div style="">
                                    <div id="playBox">
                                        <div class="pre"></div>
                                        <div class="next"></div>
                                        <div class="smalltitle">
                                            <ul>
                                                <li class="thistitle"></li>
                                                <li></li>
                                                <li></li>
                                                <li></li>
                                                <li></li>
                                            </ul>
                                        </div>
                                        <ul class="oUlplay">
                                            <li><img src="images/1.png" style="width: 90%;background-color: black"></li>
                                            <li><img src="images/2.png" style="width: 90%"></li>
                                            <li><img src="images/3.png" style="width: 90%"></li>
                                            <li><img src="images/4.png" style="width: 90%"></li>
                                            <li><img src="images/5.png" style="width: 90%"></li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        <div class="pt-page pt-page-3">
            <div class="row" style="color:white; background-color:black;">
                <div class="col-md-6 bg1 divcon" style="">
                    <div class="col-md-12" style="margin-top: 15px;display: inline">
                        <div class="col-md-2 szlogo"><button id="iterateEffects2" class="button type2"></button></div>
                        <div class="col-md-10" style="margin-top:20px">
                            <p class="biaoti1" style="font-size: 42px;color: #FFFFFF;letter-spacing: 0.92px;"><b>苏州市民卡</b></p>
                            <p class="biaoti2" style="font-size: 30px;color: #FFFFFF;letter-spacing: 0;">&nbsp;&nbsp;数据分析中心</p>
                        </div>
                    </div>
                    <div class="col-md-12 aaa" style="margin-top: 20px;">昨日商户排行榜</div>
                    <div class="col-md-3" style="">
                        <div class="col-md-12" style="margin-top: 10px;">
                            <hr class="col-md-10" style="border: 0px; background-color: #474747; height: 1px;" />
                            <span class="bbb">监测显示：昨日苏州各大休闲景点人气以苏州乐园、穹隆山、白马涧、同里等相对较高。</span>
                            <hr class="col-md-10" style="border: 0px; background-color: #474747; height: 1px;" />
                        </div>
                    </div>
                    <div class="col-md-9" style="height: 250px">
                        <div class="dibu">
                            <canvas id="tradeHistory1"></canvas>
                        </div>     
                    </div>
                </div>
                <div class="col-md-6 bg2 divcon" style="">
                    <div class="col-md-12 aaa" style="margin-top:120px;">商场人气指数榜</div>
                    <div class="col-md-4" style="">
                        <div class="col-md-12" style="margin-top: 20px;">
                            <hr class="col-md-10" style="border: 0px; background-color: #474747; height: 1px;" />
                            <span class="bbb">监测显示：苏州大型商场中，天虹、久光、亿珠美亚等市民卡客户消费人气相对较高。</span>
                            <hr class="col-md-10" style="border: 0px; background-color: #474747; height: 1px;" />
                        </div>
                    </div>
                    <div class="col-md-8" style="height: 250px">
                        <div class="dibu">
                            <canvas id="hotStore" style="margin-bottom: 20px"></canvas>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row" style="color:white;">
                <div id="tv3" class="col-md-6 divcon" style="background-color: black;">
                    <div class="col-md-12 aaa" style="margin-top:5px;">超市人气指数榜</div>
                    <div class="col-md-4" style="height: 540px">
                        <div class="col-md-12" style="margin-top: 20px;">
                            <hr class="col-md-10" style="border: 0px; background-color: #474747; height: 1px;" />
                            <span class="bbb">监测显示：苏州各类超市中全家、华润、大润发、欧尚等市民卡客户消费人气相对较高。</span>
                            <hr class="col-md-10" style="border: 0px; background-color: #474747; height: 1px;" />
                        </div>
                    </div>
                    <div class="col-md-8" style="height: 540px;">
                        <canvas id="hotsuperstore" style="float: none; margin-bottom: 50px;"></canvas>
                    </div>
                </div>
                <div id="tv4" class="col-md-6 divcon" style="background-color:black;">
                    <div class="col-md-4" style="height:540px">
                        <div class="col-md-12 aaa" style="margin-top:5px;">合作商户</div>
                        <div class="col-md-12" style="margin-top:20px;">
                            <div>
                                <ul class="accordion">
                                    <li>
                                        <a><img src="images/image1.png" alt=""></a>
                                    </li>
                                    <li>
                                        <a><img src="images/image2.png" alt=""></a>
                                    </li>
                                    <li>
                                        <a><img src="images/image3.png" alt=""></a>
                                    </li>
                                    <li>
                                        <a><img src="images/image4.png" alt=""></a>
                                    </li>
                                    <li>
                                        <a><img src="images/image5.png" alt=""></a>
                                    </li>
                                    <li>
                                        <a><img src="images/image6.png" alt=""></a>
                                    </li>
                                    <li>
                                        <a><img src="images/image7.png" alt=""></a>
                                    </li>
                                    <li>
                                        <a><img src="images/image8.png" alt=""></a>
                                    </li>
                                    <li>
                                        <a><img src="images/image9.png" alt=""></a>
                                    </li>
                                    <li>
                                        <a><img src="images/image10.png" alt=""></a>
                                    </li>
                                    <li>
                                        <a><img src="images/image11.png" alt=""></a>
                                    </li>
                                    <li>
                                        <a><img src="images/image12.png" alt=""></a>
                                    </li>
                                    <li>
                                        <a><img src="images/image13.png" alt=""></a>
                                    </li>
                                    <li>
                                        <a><img src="images/image14.png" alt=""></a>
                                    </li>
                                    <li>
                                        <a><img src="images/image15.png" alt=""></a>
                                    </li>
                                    <li>
                                        <a><img src="images/image16.png" alt=""></a>
                                    </li>
                                    <li>
                                        <a><img src="images/image17.png" alt=""></a>
                                    </li>
                                    <li>
                                        <a><img src="images/image18.png" alt=""></a>
                                    </li>
                                    <li>
                                        <a><img src="images/image19.png" alt=""></a>
                                    </li>
                                    <li>
                                        <a><img src="images/image20.png" alt=""></a>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="pt-message">
        <p>亲，你的浏览器不支持 CSS 动画，请使用 Chrome,Firefox,Safari 等浏览器浏览.</p>
    </div>
    <script src="js/jquery.dlmenu.js"></script>
    <script src="js/pagetransitions.js"></script>
    <script type="text/javascript">
        var isNullOrEmpty = function(value) {
            if (typeof (value) == "undefined") {
                return true;
            }
            return value.length == 0;
        };

        var isInt32 = function(value) {
            return (/^(\+|-)?\d+$/.test(value)) && value > 0;
        };

        var padLeft = function(value, length) {
            var str = value + '';
            for (var i = 0; i < length; i++) {
                str = '0' + str;
            }
            str = str.substring(str.length - length, str.length);
            return str;
        }
        var ajaxProxy = function(url, data) {
            var responseData = '';
            $.ajax({
                url: url,
                type: 'post',
                data: data,
                async: false,
                error: function() {
                    console.log('Ajax请求失败,URL:' + url);
                },
                success: function(data) {
                    responseData = data;
                }
            });
            return JSON.stringify(responseData);
        }
        var reportConfig = {
            //配置参数
            limitCount: 15, //实时发卡量显示15条记录
            cardSaleRefreshTime: 60000, //实时发卡量刷新时间
            departRefreshTime: 60000, //网点人气刷新时间
            startHour: 8, //早点9点之后才可以轮询
            endHour: 18, //晚上6点之后就不再轮询
            pollingTime: 30000, //静态报表切换时间

            //系统参数
            //baseUrl : 'http://localhost:10643',
            baseUrl: 'http://172.16.6.119:5500/onlyTVWALL',
            //baseUrl: 'http://172.16.6.119:5500/v105',
            initDate: new Date(), //系统初始化时间
            initDateStr: '',
            tradeHistoryPollType: 0, //最近7日刷卡数据 轮询类型；0.笔数 1.金额
            tradeHistoryPollType1: 5, //商户排行 轮训类型：5.笔数 6.金额
            hotStorePollType: 1, //昨日人气指数榜 轮询类型 1.商场 2.超市
            hotsuperstorePollType: 2,//昨日人气指数榜 轮询类型 1.商场 2.超市
            hotViewPollType: 3 //昨日景点人气 轮询类型 3.园林 4.休闲
        }
        reportConfig.initDateStr = padLeft(reportConfig.initDate.getFullYear(), 4) +
            padLeft((reportConfig.initDate.getMonth() + 1), 2) +
            padLeft(reportConfig.initDate.getDate(), 2) +
            padLeft(reportConfig.startHour, 2) +
            '00' +
            '00';
    </script>
    <script>
        $(function() {
            var randomColorFactor = function() {
                return Math.round(Math.random() * 255);
            };
            var _rgbColors = [];
            _rgbColors.push('#D2691E');
            _rgbColors.push('#4EEE94');
            _rgbColors.push('#7A67EE');
            _rgbColors.push('#636363');
            _rgbColors.push('#68228B');
            _rgbColors.push('#9ACD32');
            _rgbColors.push('#F08080');
            _rgbColors.push('#EE30A7');
            _rgbColors.push('#CDAF95');
            _rgbColors.push('#458B00');
            _rgbColors.push('#EEEE00');
            _rgbColors.push('#FF3030'); //如果颜色不够，继续加就好。注意颜色之间差别要大
            //var randomColor = function(opacity) {
            //return 'rgba(' + randomColorFactor() + ',' + randomColorFactor() + ',' + randomColorFactor() + ',' + (opacity || '.3') + ')';
            //};
            var randomColor = function(index) {
                return _rgbColors[index];
            }
            var randomScalingFactor = function() {
                return Math.round(Math.random() * 100);
                //return 0;
            };
            //设置各统计图长宽
            $("#tradeHistory").attr('height', 250); //最近7日刷卡数据
            $("#tradeHistory").attr('width', 400);
            $("#hotDepart").attr('height', 250);  //实时网点人气
            $("#hotDepart").attr('width', 450);
            $("#cardSaleRealTime").attr('height', 400);  //实时发卡量
            $("#cardSaleRealTime").attr('width', 500);
            $("#relaxview").attr('height', 350);  //昨日休闲人气
            $("#relaxview").attr('width', 550);
            $("#gardenview").attr('height', 300);  //昨日园林人气
            $("#gardenview").attr('width', 400);
            $("#subwayview").attr('height', 400);  //昨日地铁人气
            $("#subwayview").attr('width', 500);
            $("#tradeHistory1").attr('height', 300);//昨日商户排行榜
            $("#tradeHistory1").attr('width', 500);
            $("#hotStore").attr('height', 300);  //商场人气指数榜
            $("#hotStore").attr('width', 400);
            $("#hotsuperstore").attr('height', 300);  //超市人气指数榜
            $("#hotsuperstore").attr('width', 400);
            //昨日刷卡数据 json
            var tradeHistoryJson = function(type) {
                var url = reportConfig.baseUrl + '/json/reply/HistoryTradeList';
                var data = "requestType=" + type;
                var jsonData = ajaxProxy(url, data);
                return jsonData;
            }
            //昨日人气指数榜 json
            var hotStoreJson = function(type) {
                var url = reportConfig.baseUrl + '/json/reply/BusPopularityList';
                var data = 'RequestType=' + type;
                var jsonData = ajaxProxy(url, data);
                return jsonData;
            }
            //昨日商场人气指数榜 json
            var hotStoreJson1 = function () {
                var url = reportConfig.baseUrl + '/json/reply/BusPopularityList';
                var data = 'RequestType=1';
                var jsonData = ajaxProxy(url, data);
                return jsonData;
            }
            //昨日超市人气指数榜 json
            var hotsuperstoreJson = function () {
                var url = reportConfig.baseUrl + '/json/reply/BusPopularityList';
                var data = 'RequestType=2';
                var jsonData = ajaxProxy(url, data);
                return jsonData;
            }
            //网点人气Json
            var hotDepartJson = function() {
                var url = reportConfig.baseUrl + '/json/reply/DepartPopularityList';
                var startTime = reportConfig.initDateStr;
                var data = 'startTime=' + startTime;
                var jsonData = ajaxProxy(url, data);
                return jsonData;
            }
            //实时发卡量 Json
            var cardSaleJson = function(startTime) {
                var url = reportConfig.baseUrl + '/json/reply/CardSellRealTimeNums';
                var data = 'Minutes=' + reportConfig.cardSaleRefreshTime / 60000;
                //if(!isNullOrEmpty(startTime)){
                //	data = 'startTime=' + startTime;
                //}
                var jsonData = ajaxProxy(url, data);
                return jsonData;
            }
            //休闲人气 Json
            var relaxviewJson = function() {
                var url = reportConfig.baseUrl + '/json/reply/BusPopularityList';
                var data = 'requestType=3';
                var jsonData = ajaxProxy(url, data);
                return jsonData;
            }

            //园林人气 Json
            var gardenviewJson = function() {
                var url = reportConfig.baseUrl + '/json/reply/BusPopularityList';
                var data = 'requestType=4';
                var jsonData = ajaxProxy(url, data);
                return jsonData;
            }
            //地铁人气 Json
            var subwayviewJson = function() {
                var url = reportConfig.baseUrl + '/json/reply/BusPopularityList';
                var data = 'requestType=9';
                var jsonData = ajaxProxy(url, data);
                return jsonData;
            }
            //昨日刷卡数据 柱状图
            var tradeHistory = $('#tradeHistory');
            var tradeHistoryCfg = {
                type: 'bar',
                data: {
                    labels: [],
                    datasets: []
                },
                options: {
                    responsive: true,
                    legend: {
                        position: 'top'
                    },
                    scales: {
                        yAxes: [
                            {
                                ticks: {
                                    beginAtZero: true
                                }
                            }
                        ]
                    }
                }
            };

            window.tradeHistory = new Chart(tradeHistory, tradeHistoryCfg);
            updateTradeHistory();
            window.setInterval(updateTradeHistory, 5000);

            function updateTradeHistory() {
                //添加datasets
                var DRIVERCAR_ds = {
                    label: '公交',
                    backgroundColor: "#30B0F0",
                    data: []
                };
                var MERCHANT_ds = {
                    label: '商户',
                    backgroundColor: "#ED9D7A",
                    data: []
                };
                var METRO_ds = {
                    label: '地铁',
                    backgroundColor: "#EA553C",
                    data: []
                };

                try {
                    var requestType = '';
                    if (reportConfig.tradeHistoryPollType == 0) { //查询笔数
                        $('.box-title').html('最近7日刷卡数据');
                        reportConfig.tradeHistoryPollType = 1;
                        requestType = '0';
                        var tradeHistoryObj = JSON.parse(tradeHistoryJson(requestType));

                        DRIVERCAR_ds.label = '公交笔数';
                        MERCHANT_ds.label = '商户笔数';
                        METRO_ds.label = '地铁笔数';
                        tradeHistoryCfg.data.labels = [];
                        tradeHistoryCfg.data.datasets = [];
                        for (var i = tradeHistoryObj.TradeList.length - 1; i >= 0; i--) {
                            var tempDate = tradeHistoryObj.TradeList[i].TRADEDATE;
                            tradeHistoryCfg.data.labels.push(tempDate);

                            DRIVERCAR_ds.data.push(tradeHistoryObj.TradeList[i].DRIVERCARTRADETIMES);
                            MERCHANT_ds.data.push(tradeHistoryObj.TradeList[i].MERCHANTTRADETIMES);
                            METRO_ds.data.push(tradeHistoryObj.TradeList[i].METROTRADETIMES);
                        }
                        tradeHistoryCfg.data.datasets = [];
                        tradeHistoryCfg.data.datasets.push(DRIVERCAR_ds);
                        tradeHistoryCfg.data.datasets.push(MERCHANT_ds);
                        tradeHistoryCfg.data.datasets.push(METRO_ds);
                    } else if (reportConfig.tradeHistoryPollType == 1) { //查询金额
                        $('.box-title').html('最近7日刷卡数据');
                        requestType = '1';
                        reportConfig.tradeHistoryPollType = 0;
                        DRIVERCAR_ds.label = '公交金额';
                        MERCHANT_ds.label = '商户金额';
                        METRO_ds.label = '地铁金额';
                        var tradeHistoryObj = JSON.parse(tradeHistoryJson(requestType));
                        if (typeof (tradeHistoryObj.TradeList) == "undefined") {
                            return;
                        }
                        tradeHistoryCfg.data.labels = [];
                        tradeHistoryCfg.data.datasets = [];
                        for (var i = tradeHistoryObj.TradeList.length - 1; i >= 0; i--) {
                            var tempDate = tradeHistoryObj.TradeList[i].TRADEDATE;
                            tradeHistoryCfg.data.labels.push(tempDate);

                            DRIVERCAR_ds.data.push(tradeHistoryObj.TradeList[i].DRIVERCARTRADEMONEY);
                            MERCHANT_ds.data.push(tradeHistoryObj.TradeList[i].MERCHANTTRADEMONEY);
                            METRO_ds.data.push(tradeHistoryObj.TradeList[i].METROTRADEMONEY);
                        }
                        tradeHistoryCfg.data.datasets = [];
                        tradeHistoryCfg.data.datasets.push(DRIVERCAR_ds);
                        tradeHistoryCfg.data.datasets.push(MERCHANT_ds);
                        tradeHistoryCfg.data.datasets.push(METRO_ds);
                    }
                } catch (e) {
                    alert('最近7日刷卡数据 加载异常: ' + e.message);
                    //console.log('最近7日刷卡数据 加载异常: ' + e.message);
                }
                window.tradeHistory.update();
            }

            //网点人气
            var hotDepart = $('#hotDepart');
            var hotDepartCfg = {
                type: 'pie',
                data: {
                    datasets: [],
                    labels: []
                },
                options: {
                    responsive: true,
                    legend: {
                        position: 'bottom'
                    }
                }
            };

            window.hotDepart = new Chart(hotDepart, hotDepartCfg);
            window.setInterval(updateDepartRealTime, reportConfig.departRefreshTime);

            //定时轮询
            function updateDepartRealTime() {
                //填充数据
                try {
                    //if (!isBetweenHour()) { return; }
                    var hotDepartObj = JSON.parse(hotDepartJson());
                    hotDepartCfg.data.labels = [];
                    hotDepartCfg.data.datasets = [];
                    var hotDepartDataSet = {
                        data: [],
                        backgroundColor: []
                    }
                    for (var i = 0; i < hotDepartObj.PopularityList.length; i++) {
                        hotDepartDataSet.data.push(hotDepartObj.PopularityList[i].TradeTimes);
                        hotDepartDataSet.backgroundColor.push(randomColor(i));
                        hotDepartCfg.data.labels.push(hotDepartObj.PopularityList[i].DepartName);
                    }
                } catch (e) {
                    alert('网点人气 加载异常: ' + e.message);
                    //console.log('网点人气 加载异常: ' + e.message);
                }
                hotDepartCfg.data.datasets.push(hotDepartDataSet);
                window.hotDepart.update();
            }

            //实时发卡量
            var areaChartLabel = reportConfig.initDate.getFullYear() +
                '年' +
                (reportConfig.initDate.getMonth() + 1) +
                '月' +
                reportConfig.initDate.getDate() +
                '日' +
                ' 实时发卡量 ';
            var areaChartCanvas = $("#cardSaleRealTime");
            var areaChartOptions = {
                type: 'line',
                data: {
                    labels: [],
                    datasets: [
                        {
                            label: areaChartLabel + '(发卡总量: 0)',
                            fillColor: "rgba(210, 214, 222, 1)",
                            strokeColor: "rgba(210, 1, 222, 1)",
                            pointColor: "rgba(210, 1, 222, 1)",
                            pointStrokeColor: "#c1c7d1",
                            pointHighlightFill: "#fff",
                            pointHighlightStroke: "rgba(220,220,220,1)",
                            data: []
                        }
                    ]
                },
                options: {
                    legendTemplate:
                        "<ul class=\"<%=name.toLowerCase()%>-legend\"><% for (var i=0; i<datasets.length; i++){%><li><span style=\"background-color:<%=datasets[i].lineColor%>\"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>",
                    scales: {
                        yAxes: [
                            {
                                ticks: {
                                    beginAtZero: true
                                }
                            }
                        ]
                    }
                }
            };

            $.each(areaChartOptions.data.datasets,
                function(i, dataset) {
                    dataset.borderColor = "#30B0F0";
                    dataset.pointBorderColor = "#FFF";
                    dataset.pointBackgroundColor = "#FFF";
                    dataset.pointBorderWidth = 1;
                });

            window.areaChart = new Chart(areaChartCanvas, areaChartOptions);

            var areaChartLoadDataCount = 0;

            window.setInterval(updateCardSaleRealTime, reportConfig.departRefreshTime);

            //轮询
            function updateCardSaleRealTime() {
                try {
                    //if(!isBetweenHour()){return;}
                    var cardSaleObj = JSON.parse(cardSaleJson());
                    if (typeof(cardSaleObj.QueryTime) == "undefined") {
                        return;
                    }
                    if (areaChartOptions.data.datasets.length > 0) {
                        $.each(areaChartOptions.data.datasets,
                            function(i, dataset) {
                                if (areaChartLoadDataCount >= reportConfig.limitCount) {
                                    dataset.data.shift();
                                }
                                dataset.data.push(cardSaleObj.Counts);
                            });
                        if (areaChartLoadDataCount >= reportConfig.limitCount) {
                            areaChartOptions.data.labels.shift();
                        }
                        areaChartOptions.data.labels.push(cardSaleObj.QueryTime);
                    }
                    if (areaChartLoadDataCount < reportConfig.limitCount) {
                        areaChartLoadDataCount++;
                    }

                    cardSaleObj = JSON.parse(cardSaleJson(reportConfig.initDateStr)); //得到总量
                    if (typeof(cardSaleObj.QueryTime) == "undefined") {
                        return;
                    }
                    $.each(areaChartOptions.data.datasets,
                        function(i, dataset) {
                            var cardSaleCount = cardSaleObj.Counts;
                            dataset.label = areaChartLabel + '(发卡总量: ' + cardSaleCount + ')'
                        });
                    window.areaChart.update();
                } catch (e) {
                    alert('实时发卡量 加载异常: ' + e.message);
                    //console.log('实时发卡量 加载异常: '+e.message);
                }
            }

            //休闲人气
            var relaxview = $('#relaxview');
            var relaxviewCfg = {
                type: 'bar',
                data: {
                    labels: [],
                    datasets: []
                },
                options: {
                    responsive: true,
                    legend: {
                        position: 'top'
                    },
                    scales: {
                        yAxes: [
                            {
                                ticks: {
                                    beginAtZero: true
                                }
                            }
                        ]
                    }
                }
            };
            window.relaxview = new Chart(relaxview, relaxviewCfg);
            updaterelaxview();

            function updaterelaxview() {
                var relaxviewDataSet = {
                    label: '休闲人气',
                    backgroundColor: "#30B0F0",
                    data: []
                };
                //填充数据
                try {
                    var relaxviewObj = JSON.parse(relaxviewJson());
                    if (typeof (relaxviewObj.QueryList) == "undefined") {
                        return;
                    }
                    relaxviewCfg.data.labels = [];
                    relaxviewCfg.data.datasets = [];
                    for (var i = 0; i < relaxviewObj.QueryList.length; i++) {
                        relaxviewCfg.data.labels.push(relaxviewObj.QueryList[i].CORP);
                        relaxviewDataSet.data.push(relaxviewObj.QueryList[i].TRADETIMES);
                    }
                } catch (e) {
                    alert('昨日景点人气 加载异常: ' + e.message);
                    //console.log('昨日景点人气 加载异常: ' + e.message);
                }

                relaxviewCfg.data.datasets.push(relaxviewDataSet);
                window.relaxview.update();
            }

            //园林人气
            var gardenview = $('#gardenview');
            var gardenviewCfg = {
                type: 'horizontalBar',
                data: {
                    labels: [],
                    datasets: []
                },
                options: {
                    responsive: true,
                    legend: {
                        position: 'top'
                    },
                    scales: {
                        yAxes: [
                            {
                                ticks: {
                                    beginAtZero: true
                                }
                            }
                        ]
                    }
                }
            };
            window.gardenview = new Chart(gardenview, gardenviewCfg);
            updategardenview();

            function updategardenview() {
                var gardenviewDataSet = {
                    label: '园林人气',
                    backgroundColor: "#30B0F0",
                    data: []
                };
                //填充数据
                try {
                    var gardenviewObj = JSON.parse(gardenviewJson());
                    if (typeof (gardenviewObj.QueryList) == "undefined") {
                        return;
                    }
                    gardenviewCfg.data.labels = [];
                    gardenviewCfg.data.datasets = [];
                    for (var i = 0; i < gardenviewObj.QueryList.length; i++) {
                        gardenviewCfg.data.labels.push(gardenviewObj.QueryList[i].CORP);
                        gardenviewDataSet.data.push(gardenviewObj.QueryList[i].TRADETIMES);
                    }
                } catch (e) {
                    alert('昨日园林人气 加载异常: ' + e.message);
                    //console.log('昨日园林人气 加载异常: ' + e.message);
                }

                gardenviewCfg.data.datasets.push(gardenviewDataSet);
                window.gardenview.update();
            }

            //地铁人气
            var subwayview = $('#subwayview');
            var subwayviewCfg = {
                type: 'bar',
                data: {
                    labels: [],
                    datasets: []
                },
                options: {
                    responsive: true,
                    legend: {
                        position: 'top'
                    },
                    scales: {
                        yAxes: [
                            {
                                ticks: {
                                    beginAtZero: true
                                }
                            }
                        ]
                    }
                }
            };
            window.subwayview = new Chart(subwayview, subwayviewCfg);
            updatesubwayview();

            function updatesubwayview() {
                var subwayviewDataSet = {
                    label: '地铁刷卡金额',
                    backgroundColor: "#30B0F0",
                    data: []
                };
                //填充数据
                try {
                    var subwayviewObj = JSON.parse(subwayviewJson());
                    if (typeof (subwayviewObj.QueryList) == "undefined") {
                        return;
                    }
                    subwayviewCfg.data.labels = [];
                    subwayviewCfg.data.datasets = [];
                    for (var i = 0; i < subwayviewObj.QueryList.length; i++) {
                        subwayviewCfg.data.labels.push(subwayviewObj.QueryList[i].CORP);
                        subwayviewDataSet.data.push(subwayviewObj.QueryList[i].TRADEMONEY);
                    }
                } catch (e) {
                    alert('昨日地铁人气 加载异常: ' + e.message);
                    //console.log('昨日地铁人气 加载异常: ' + e.message);
                }

                subwayviewCfg.data.datasets.push(subwayviewDataSet);
                window.subwayview.update();
            }
            //商户排行榜
            var tradeHistory1 = $('#tradeHistory1');
            var tradeHistoryCfg1 = {
                type: 'bar',
                data: {
                    labels: [],
                    datasets: []
                },
                options: {
                    responsive: true,
                    legend: {
                        position: 'top'
                    },
                    scales: {
                        yAxes: [{
                            ticks: {
                                beginAtZero: true
                            }
                        }]
                    }
                }
            };

            window.tradeHistory1 = new Chart(tradeHistory1, tradeHistoryCfg1);
            updateTradeHistory1();
            window.setInterval(updateTradeHistory1, 10000);


            function updateTradeHistory1() {
                //添加datasets
                var DRIVERCAR_ds = {
                    label: '',
                    //backgroundColor: "rgba(216, 43, 36, 1)",
                    backgroundColor: "rgba(55, 232, 209, 0.7)",
                    data: []
                };

                try {
                    var requestType = '';
                    if (reportConfig.tradeHistoryPollType1 == 5) {//商户刷卡量
                        $('.box-title').html('昨日商户排行');
                        requestType = '5';
                        reportConfig.tradeHistoryPollType1 = 6;
                        DRIVERCAR_ds.label = '商户笔数';
                        var tradeHistoryObj1 = JSON.parse(hotStoreJson(requestType));
                        if (typeof (tradeHistoryObj1.QueryList) == "undefined") {
                            return;
                        }
                        tradeHistoryCfg1.data.labels = [];
                        DRIVERCAR_ds.data = [];
                        for (var i = 0; i < tradeHistoryObj1.QueryList.length; i++) {
                            var tempDate = tradeHistoryObj1.QueryList[i].CORP;
                            tradeHistoryCfg1.data.labels.push(tempDate);
                            DRIVERCAR_ds.data.push(tradeHistoryObj1.QueryList[i].TRADETIMES);
                        }
                        tradeHistoryCfg1.data.datasets = [];
                        tradeHistoryCfg1.data.datasets.push(DRIVERCAR_ds);
                    } else if (reportConfig.tradeHistoryPollType1 == 6) {//商户刷卡额
                        $('.box-title').html('昨日商户排行');
                        requestType = '6';
                        reportConfig.tradeHistoryPollType1 = 5;
                        DRIVERCAR_ds.label = '商户金额';
                        var tradeHistoryObj1 = JSON.parse(hotStoreJson(requestType));
                        if (typeof (tradeHistoryObj1.QueryList) == "undefined") {
                            return;
                        }
                        tradeHistoryCfg1.data.labels = [];
                        DRIVERCAR_ds.data = [];
                        for (var i = 0; i < tradeHistoryObj1.QueryList.length; i++) {
                            var tempDate = tradeHistoryObj1.QueryList[i].CORP;
                            tradeHistoryCfg1.data.labels.push(tempDate);
                            DRIVERCAR_ds.data.push(tradeHistoryObj1.QueryList[i].TRADEMONEY);
                        }
                        tradeHistoryCfg1.data.datasets = [];
                        tradeHistoryCfg1.data.datasets.push(DRIVERCAR_ds);
                    }
                } catch (e) {
                    console.log('昨日商户排行数据 加载异常: ' + e.message);
                }
                window.tradeHistory1.update();
            }
            //昨日商场人气指数榜 柱图
            var hotStore = $('#hotStore');
            var hotStoreCfg = {
                type: 'horizontalBar',
                data: {
                    labels: [],
                    datasets: []
                },
                options: {
                    responsive: true,
                    legend: {
                        position: 'top'
                    },
                    scales: {
                        yAxes: [{
                            ticks: {
                                beginAtZero: true
                            }
                        }]
                    }
                }
            };

            window.hotStore = new Chart(hotStore, hotStoreCfg);
            updateHotStore();

            function updateHotStore() {
                //数据填充
                var hotStoreDataset = {
                    label: '商场人气',
                    //backgroundColor: "rgba(24, 79, 114, 1)",
                    //backgroundColor: "#EA553C",
                    backgroundColor: "rgba(55, 232, 209, 0.7)",
                    data: []
                };
                try {;
                    var hotStoreObj = JSON.parse(hotStoreJson1());
                    if (typeof (hotStoreObj.QueryList) == "undefined") {
                        return;
                    }
                    hotStoreCfg.data.datasets = [];
                    hotStoreCfg.data.labels = [];
                    for (var i = 0; i < hotStoreObj.QueryList.length; i++) {
                        var tempDate = hotStoreObj.QueryList[i].CORP;
                        hotStoreCfg.data.labels.push(tempDate);
                        hotStoreDataset.data.push(hotStoreObj.QueryList[i].TRADETIMES);
                    }
                } catch (e) {
                    console.log('昨日人气指数榜 加载异常: ' + e.message);
                }

                //添加datasets
                hotStoreCfg.data.datasets.push(hotStoreDataset);
                window.hotStore.update();
            }
            //昨日超市人气指数榜 柱图
            var hotsuperstore = $('#hotsuperstore');
            var hotsuperstoreCfg = {
                type: 'horizontalBar',
                data: {
                    labels: [],
                    datasets: []
                },
                options: {
                    responsive: true,
                    legend: {
                        position: 'top'
                    },
                    scales: {
                        yAxes: [{
                            ticks: {
                                beginAtZero: true
                            }
                        }]
                    }
                }
            };

            window.hotsuperstore = new Chart(hotsuperstore, hotsuperstoreCfg);
            updatehotsuperstore();

            function updatehotsuperstore() {
                //数据填充
                var hotsuperstoreDataset = {
                    label: '超市人气',
                    //backgroundColor: "rgba(64, 149, 59, 1)",
                    backgroundColor: "rgba(55, 232, 209, 0.7)",
                    data: []
                };
                try {
                    var requestType = '2';
                    var hotsuperstoreObj = JSON.parse(hotsuperstoreJson(requestType));
                    if (typeof (hotsuperstoreObj.QueryList) == "undefined") {
                        return;
                    }
                    hotsuperstoreCfg.data.datasets = [];
                    hotsuperstoreCfg.data.labels = [];
                    for (var i = 0; i < hotsuperstoreObj.QueryList.length; i++) {
                        var tempDate = hotsuperstoreObj.QueryList[i].CORP;
                        hotsuperstoreCfg.data.labels.push(tempDate);
                        hotsuperstoreDataset.data.push(hotsuperstoreObj.QueryList[i].TRADETIMES);
                    }
                } catch (e) {
                    console.log('昨日人气指数榜 加载异常: ' + e.message);
                }

                //添加datasets
                hotsuperstoreCfg.data.datasets.push(hotsuperstoreDataset);
                window.hotsuperstore.update();
            }
        });
    </script>
    <script>
        window.setInterval(LoopPic, 8000);

        function LoopPic() {
            if (document.getElementById("pic1").style.display == "none") {
                $("#pic2").fadeOut(1000);
                $("#pic1").fadeIn(1000);
            } else {
                $("#pic1").fadeOut(1000);
                $("#pic2").fadeIn(1000);
            }
        }

        var oMarquee = document.getElementById("mydiv"); //滚动对象
        var iLineHeight = 50; //单行高度
        var iLineCount = 28;//实际行数
        var iScrollAmount = 4; //每次滚动高度

        function play() {
            oMarquee.scrollTop += iScrollAmount;
            if (oMarquee.scrollTop == iLineHeight * iLineHeight) {

                oMarquee.scrollTop = 0;
            }
            if (oMarquee.scrollTop % iLineHeight == 0) {
                window.setTimeout("play()", 1000);
            } else {
                window.setTimeout("play()", 50);
            }
        }
        oMarquee.innerHTML += oMarquee.innerHTML;
        window.setTimeout("play()", 2000); //定时器用来循环滚动
    </script>
</body>
</html>
